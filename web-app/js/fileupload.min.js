function fileUploadField(e){new AjaxUpload("#upload_button_"+e,{action:baseUrl+"/file/upload/hoihoi",data:{},name:e,autoSubmit:true,onChange:function(t,n){oldFile=$("#"+e).val();if(oldFile!=""&&oldFile!="existing*"&&oldFile!="*deleted*"){if(!confirm("The old file is deleted when uploading a new file. Do you want to continue?")){return false}}this.setData({field:e,oldFile:oldFile});$("#"+e+"Example").html("Uploading "+createFileHTML(t));$("#"+e+"Delete").hide()},onComplete:function(t,n){if(n.indexOf("<")!=-1){n=$(n).text().split("//<![CDATA[")[0]}if(n==""){$("#"+e).val("");$("#"+e+"Example").html('<span class="error">Error uploading '+createFileHTML(t)+"</span>");$("#"+e+"Delete").hide()}else{$("#"+e).val(n);$("#"+e+"Example").html("Uploaded "+createFileHTML(t));$("#"+e+"Delete").show()}}})}function deleteFile(e){$("#"+e).val("*deleted*");$("#"+e+"Example").html("File deleted");$("#"+e+"Delete").hide()}function createFileHTML(e){return'<a target="_blank" href="'+baseUrl+"/file/get/"+e+'">'+e+"</a>"}